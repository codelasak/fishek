(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45227,(e,a,r)=>{a.exports=e.r(8077)},75459,12426,e=>{"use strict";var a=e.i(78042),r=e.i(45456),t=e.i(91588);function l(){let{mode:e,activeFamily:l,families:s,setMode:i,setActiveFamily:n}=(0,t.useFamily)(),[d,o]=(0,r.useState)(!1),c=(e,a)=>{if("personal"===e)i("personal"),n(null);else if(a){let e=s.find(e=>e.id===a);e&&n(e)}o(!1)},m="personal"===e?"KiÅŸisel":l?.name||"Aile";return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>o(!d),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-xl",children:"personal"===e?"person":"groups"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:m}),(0,a.jsx)("span",{className:"material-symbols-outlined text-sm",children:d?"expand_less":"expand_more"})]}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),(0,a.jsxs)("div",{className:"absolute top-full mt-2 right-0 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>c("personal"),className:`w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${"personal"===e?"bg-green-50 dark:bg-green-900/20":""}`,children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-2xl text-gray-600 dark:text-gray-400",children:"person"}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:"KiÅŸisel"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Sadece sizin iÅŸlemleriniz"})]}),"personal"===e&&(0,a.jsx)("span",{className:"material-symbols-outlined text-green-600 text-xl",children:"check_circle"})]}),s.length>0&&(0,a.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700"}),s.map(r=>(0,a.jsxs)("button",{onClick:()=>c("family",r.id),className:`w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${"family"===e&&l?.id===r.id?"bg-green-50 dark:bg-green-900/20":""}`,children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-2xl text-gray-600 dark:text-gray-400",children:"groups"}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:r.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"ADMIN"===r.role?"YÃ¶netici":"Ãœye"})]}),"family"===e&&l?.id===r.id&&(0,a.jsx)("span",{className:"material-symbols-outlined text-green-600 text-xl",children:"check_circle"})]},r.id)),(0,a.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("a",{href:"/family-settings",className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-green-600 dark:text-green-400",onClick:()=>o(!1),children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-2xl",children:"settings"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Aile AyarlarÄ±"})]})})]})]})]})}e.s(["FamilyModeToggle",()=>l],75459);let s="fishek_onboarding_completed",i="fishek_family_onboarding_completed";e.s(["onboardingStorage",0,{isCompleted:()=>"true"===localStorage.getItem(s),setCompleted:()=>{localStorage.setItem(s,"true")},reset:()=>{localStorage.removeItem(s)},isFamilyCompleted:()=>"true"===localStorage.getItem(i),setFamilyCompleted:()=>{localStorage.setItem(i,"true")},resetFamily:()=>{localStorage.removeItem(i)},resetAll:()=>{localStorage.removeItem(s),localStorage.removeItem(i)}}],12426)},83565,e=>{"use strict";var a=e.i(78042),r=e.i(45456),t=e.i(45227),l=e.i(91588),s=e.i(75459);let i=[{title:"Aile HesabÄ± OluÅŸturun ðŸ ",description:"Aileniz iÃ§in ortak bir bÃ¼tÃ§e hesabÄ± oluÅŸturun ve birlikte finansal hedeflerinize ulaÅŸÄ±n.",icon:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",color:"from-pink-400 to-red-500"},{title:"Davet Kodu AlÄ±n ï¿½ï¿½",description:"Aile Ã¼yelerinizi davet etmek iÃ§in Ã¶zel bir kod oluÅŸturacaÄŸÄ±z.",icon:"ðŸŽ«",color:"from-blue-400 to-blue-600"},{title:"Ortak Kategoriler ðŸ“‹",description:"Aile harcamalarÄ± iÃ§in kategoriler oluÅŸturun. Market, faturalar, tatil gibi.",icon:"âœ…",color:"from-green-400 to-primary"},{title:"Harcama Limitleri ðŸ’³",description:"Aile Ã¼yeleri iÃ§in harcama limitleri belirleyin ve bÃ¼tÃ§enizi kontrol altÄ±nda tutun.",icon:"ðŸŽ¯",color:"from-purple-400 to-purple-600"}],n=[{title:"Bir Aileye KatÄ±lÄ±n ðŸ¤",description:"Aile davet kodunu girerek ailenizin bÃ¼tÃ§e yÃ¶netim sistemine katÄ±lÄ±n.",icon:"ðŸ¡",color:"from-blue-400 to-blue-600"},{title:"Ortak Harcamalar ðŸ’°",description:"Aile harcamalarÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyin ve kendi harcamalarÄ±nÄ±zÄ± ekleyin.",icon:"ðŸ‘€",color:"from-green-400 to-primary"},{title:"ÅžeffaflÄ±k ðŸ“Š",description:"Ailenizin toplam gelir, gider ve bÃ¼tÃ§e durumunu gerÃ§ek zamanlÄ± takip edin.",icon:"ðŸ“ˆ",color:"from-purple-400 to-purple-600"},{title:"Birlikte BaÅŸarÄ±n ðŸŽ‰",description:"Finansal hedeflerinize aile olarak ulaÅŸÄ±n, birlikte tasarruf edin.",icon:"ðŸ†",color:"from-pink-400 to-red-500"}];function d({onComplete:e,mode:t}){let[l,s]=(0,r.useState)(0),d="create"===t?i:n,o=d[l];return(0,a.jsx)("div",{className:"fixed inset-0 z-[100] bg-background-light dark:bg-background-dark",children:(0,a.jsxs)("div",{className:"flex flex-col h-full max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-primary",children:"create"===t?"add_circle":"group_add"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"create"===t?"Aile OluÅŸtur":"Aileye KatÄ±l"})]}),(0,a.jsx)("button",{onClick:()=>{e()},className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 font-medium",children:"GeÃ§"})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-6 pb-20",children:[(0,a.jsx)("div",{className:`size-32 rounded-full bg-gradient-to-br ${o.color} flex items-center justify-center mb-8 animate-[scaleIn_0.5s_ease-out] shadow-2xl`,children:(0,a.jsx)("span",{className:"text-6xl",children:o.icon})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-center mb-4 animate-[slideUp_0.5s_ease-out]",children:o.title}),(0,a.jsx)("p",{className:"text-base text-gray-600 dark:text-gray-400 text-center max-w-sm animate-[slideUp_0.6s_ease-out]",children:o.description}),"create"===t&&1===l&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-primary/10 border border-primary/20 rounded-xl max-w-sm animate-[slideUp_0.7s_ease-out]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-primary text-sm",children:"info"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Ã–rnek Davet Kodu"})]}),(0,a.jsx)("div",{className:"text-center font-mono text-lg font-bold text-primary tracking-wider",children:"ABC-DEFG-HIJ"})]}),"join"===t&&0===l&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl max-w-sm animate-[slideUp_0.7s_ease-out]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-blue-600 text-sm",children:"info"}),(0,a.jsx)("span",{className:"text-xs font-semibold text-blue-900 dark:text-blue-300",children:"Davet kodunu nasÄ±l alÄ±rÄ±m?"})]}),(0,a.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Ailenizin yÃ¶neticisinden davet kodunu isteyin. Kod ABC-DEFG-HIJ formatÄ±nda olacaktÄ±r."})]})]}),(0,a.jsxs)("div",{className:"p-6 pb-8 space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 mb-6",children:d.map((e,r)=>(0,a.jsx)("div",{className:`h-2 rounded-full transition-all duration-300 ${r===l?"w-8 bg-primary":r<l?"w-2 bg-primary/50":"w-2 bg-gray-300 dark:bg-gray-700"}`},r))}),(0,a.jsx)("button",{onClick:()=>{l<d.length-1?s(l+1):e()},className:"w-full h-14 bg-primary text-[#102216] rounded-xl font-bold text-lg shadow-lg shadow-primary/30 hover:bg-primary/90 active:scale-[0.98] transition",children:l===d.length-1?"AnladÄ±m":"Devam"})]})]})})}var o=e.i(12426);function c(){let e=(0,t.useRouter)(),{families:i,refreshFamilies:n}=(0,l.useFamily)(),[c,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),[b,u]=(0,r.useState)(""),[p,y]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[j,k]=(0,r.useState)(""),[v,N]=(0,r.useState)(!1),[w,A]=(0,r.useState)("create"),C=async e=>{if(e.preventDefault(),f(""),k(""),!b.trim())return void f("Aile adÄ± gerekli");try{let e=await fetch("/api/families",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.trim()})});if(e.ok){let a=await e.json();k(`Aile oluÅŸturuldu! Davet kodu: ${a.family.inviteCode}`),u(""),m(!1),await n(),o.onboardingStorage.isFamilyCompleted()||(A("create"),N(!0))}else{let a=await e.json();f(a.error||"Aile oluÅŸturulamadÄ±")}}catch(e){f("Bir hata oluÅŸtu")}},S=async e=>{if(e.preventDefault(),f(""),k(""),!p.trim())return void f("Davet kodu gerekli");try{let e=await fetch("/api/families/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inviteCode:p.toUpperCase().trim()})});if(e.ok)k("Aileye baÅŸarÄ±yla katÄ±ldÄ±nÄ±z!"),y(""),g(!1),await n(),o.onboardingStorage.isFamilyCompleted()||(A("join"),N(!0));else{let a=await e.json();f(a.error||"Aileye katÄ±lÄ±namadÄ±")}}catch(e){f("Bir hata oluÅŸtu")}},_=async(e,a)=>{if(confirm(`${a} ailesinden ayrÄ±lmak istediÄŸinizden emin misiniz?`))try{let a=await fetch(`/api/families/${e}/leave`,{method:"POST"});if(a.ok)k("Aileden baÅŸarÄ±yla ayrÄ±ldÄ±nÄ±z"),await n();else{let e=await a.json();f(e.error||"Aileden ayrÄ±lÄ±namadÄ±")}}catch(e){f("Bir hata oluÅŸtu")}},z=async(e,a)=>{if(confirm(`${a} ailesini silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz ve t\xfcm aile verileri silinecektir.`))try{let a=await fetch(`/api/families/${e}`,{method:"DELETE"});if(a.ok)k("Aile baÅŸarÄ±yla silindi"),await n();else{let e=await a.json();f(e.error||"Aile silinemedi")}}catch(e){f("Bir hata oluÅŸtu")}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-nav-safe",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>e.back(),className:"material-symbols-outlined text-2xl",children:"arrow_back"}),(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Aile AyarlarÄ±"})]}),(0,a.jsx)(s.FamilyModeToggle,{})]})}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[j&&(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center gap-2 text-green-800 dark:text-green-200",children:[(0,a.jsx)("span",{className:"material-symbols-outlined",children:"check_circle"}),(0,a.jsx)("span",{children:j})]}),h&&(0,a.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-2 text-red-800 dark:text-red-200",children:[(0,a.jsx)("span",{className:"material-symbols-outlined",children:"error"}),(0,a.jsx)("span",{children:h})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>m(!c),className:"w-full px-4 py-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-2xl text-green-600",children:"add_circle"}),(0,a.jsx)("span",{className:"font-medium",children:"Yeni Aile OluÅŸtur"})]}),(0,a.jsx)("span",{className:"material-symbols-outlined",children:c?"expand_less":"expand_more"})]}),c&&(0,a.jsx)("form",{onSubmit:C,className:"border-t border-gray-200 dark:border-gray-700 p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Aile AdÄ±"}),(0,a.jsx)("input",{type:"text",value:b,onChange:e=>u(e.target.value),placeholder:"Ã¶rn: Smith Ailesi",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 rounded-lg transition-colors",children:"OluÅŸtur"})]})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>g(!x),className:"w-full px-4 py-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-2xl text-blue-600",children:"group_add"}),(0,a.jsx)("span",{className:"font-medium",children:"Aileye KatÄ±l"})]}),(0,a.jsx)("span",{className:"material-symbols-outlined",children:x?"expand_less":"expand_more"})]}),x&&(0,a.jsx)("form",{onSubmit:S,className:"border-t border-gray-200 dark:border-gray-700 p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Davet Kodu"}),(0,a.jsx)("input",{type:"text",value:p,onChange:e=>y(e.target.value.toUpperCase().replace(/[^A-Z0-9-]/g,"")),placeholder:"ABC-DEFG-HIJ",maxLength:13,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Aile yÃ¶neticisinden davet kodunu isteyin"})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 rounded-lg transition-colors",children:"KatÄ±l"})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{className:"text-lg font-bold px-2",children:"Ailelerim"}),0===i.length?(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 text-center",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-5xl text-gray-400 mb-2",children:"groups"}),(0,a.jsx)("p",{className:"text-gray-500",children:"HenÃ¼z bir aileye katÄ±lmadÄ±nÄ±z"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Yeni bir aile oluÅŸturun veya davet koduyla katÄ±lÄ±n"})]}):i.map(e=>(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg",children:e.name}),(0,a.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${"ADMIN"===e.role?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"ADMIN"===e.role?"YÃ¶netici":"Ãœye"})]})}),(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 mb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Davet Kodu"}),(0,a.jsx)("p",{className:"font-mono font-bold text-lg",children:e.inviteCode})]}),(0,a.jsxs)("button",{onClick:()=>{var a;return a=e.inviteCode,void(navigator.clipboard.writeText(a),k("Davet kodu kopyalandÄ±!"),setTimeout(()=>k(""),2e3))},className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded-lg transition-colors flex items-center gap-1",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-sm",children:"content_copy"}),(0,a.jsx)("span",{className:"text-sm",children:"Kopyala"})]})]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("a",{href:`/family-settings/${e.id}`,className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg text-center transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-sm",children:"settings"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"YÃ¶net"})]}),"ADMIN"===e.role?(0,a.jsxs)("button",{onClick:()=>z(e.id,e.name),className:"px-4 py-2 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-sm",children:"delete"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Sil"})]}):(0,a.jsxs)("button",{onClick:()=>_(e.id,e.name),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-sm",children:"logout"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"AyrÄ±l"})]})]})]},e.id))]})]}),v&&(0,a.jsx)(d,{mode:w,onComplete:()=>{o.onboardingStorage.setFamilyCompleted(),N(!1)}})]})}e.s(["default",()=>c],83565)}]);