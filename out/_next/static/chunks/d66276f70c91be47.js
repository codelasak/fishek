(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87035,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},45227,(e,r,t)=>{r.exports=e.r(8077)},78281,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return o}};for(var i in a)Object.defineProperty(t,i,{enumerable:!0,get:a[i]});function s(e){let r={};for(let[t,a]of e.entries()){let e=r[t];void 0===e?r[t]=a:Array.isArray(e)?e.push(a):r[t]=[e,a]}return r}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let r=new URLSearchParams;for(let[t,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)r.append(t,n(e));else r.set(t,n(a));return r}function l(e,...r){for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,a]of t.entries())e.append(r,a)}return e}},16033,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={formatUrl:function(){return o},formatWithValidation:function(){return d},urlObjectKeys:function(){return l}};for(var i in a)Object.defineProperty(t,i,{enumerable:!0,get:a[i]});let s=e.r(44066)._(e.r(78281)),n=/https?|ftp|gopher|file/;function o(e){let{auth:r,hostname:t}=e,a=e.protocol||"",i=e.pathname||"",o=e.hash||"",l=e.query||"",d=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?d=r+e.host:t&&(d=r+(~t.indexOf(":")?`[${t}]`:t),e.port&&(d+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||n.test(a))&&!1!==d?(d="//"+(d||""),i&&"/"!==i[0]&&(i="/"+i)):d||(d=""),o&&"#"!==o[0]&&(o="#"+o),c&&"?"!==c[0]&&(c="?"+c),i=i.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${a}${d}${i}${c}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function d(e){return o(e)}},94400,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return i}});let a=e.r(45456);function i(e,r){let t=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=t.current;e&&(t.current=null,e());let r=i.current;r&&(i.current=null,r())}else e&&(t.current=s(e,a)),r&&(i.current=s(r,a))},[e,r])}function s(e,r){if("function"!=typeof e)return e.current=r,()=>{e.current=null};{let t=e(r);return"function"==typeof t?t:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),r.exports=t.default)},89134,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={DecodeError:function(){return h},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return k},NormalizeError:function(){return p},PageNotFoundError:function(){return b},SP:function(){return y},ST:function(){return f},WEB_VITALS:function(){return s},execOnce:function(){return n},getDisplayName:function(){return m},getLocationOrigin:function(){return d},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return g},loadGetInitialProps:function(){return x},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return w}};for(var i in a)Object.defineProperty(t,i,{enumerable:!0,get:a[i]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let r,t=!1;return(...a)=>(t||(t=!0,r=e(...a)),r)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function d(){let{protocol:e,hostname:r,port:t}=window.location;return`${e}//${r}${t?":"+t:""}`}function c(){let{href:e}=window.location,r=d();return e.substring(r.length)}function m(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function g(e){return e.finished||e.headersSent}function u(e){let r=e.split("?");return r[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(r[1]?`?${r.slice(1).join("?")}`:"")}async function x(e,r){let t=r.res||r.ctx&&r.ctx.res;if(!e.getInitialProps)return r.ctx&&r.Component?{pageProps:await x(r.Component,r.ctx)}:{};let a=await e.getInitialProps(r);if(t&&g(t))return a;if(!a)throw Object.defineProperty(Error(`"${m(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let y="undefined"!=typeof performance,f=y&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class h extends Error{}class p extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class k extends Error{constructor(e,r){super(),this.message=`Failed to load static file for page: ${e} ${r}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},72489,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(89134),i=e.r(65421);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let r=(0,a.getLocationOrigin)(),t=new URL(e,r);return t.origin===r&&(0,i.hasBasePath)(t.pathname)}catch(e){return!1}}},88464,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},27112,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={default:function(){return h},useLinkStatus:function(){return b}};for(var i in a)Object.defineProperty(t,i,{enumerable:!0,get:a[i]});let s=e.r(44066),n=e.r(78042),o=s._(e.r(45456)),l=e.r(16033),d=e.r(54080),c=e.r(94400),m=e.r(89134),g=e.r(29401);e.r(87035);let u=e.r(52055),x=e.r(72489),y=e.r(22204);function f(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function h(r){var t;let a,i,s,[l,h]=(0,o.useOptimistic)(u.IDLE_LINK_STATUS),b=(0,o.useRef)(null),{href:k,as:j,children:w,prefetch:v=null,passHref:N,replace:S,shallow:_,scroll:E,onClick:T,onMouseEnter:C,onTouchStart:P,legacyBehavior:$=!1,onNavigate:z,ref:O,unstable_dynamicOnHover:F,...I}=r;a=w,$&&("string"==typeof a||"number"==typeof a)&&(a=(0,n.jsx)("a",{children:a}));let A=o.default.useContext(d.AppRouterContext),R=!1!==v,M=!1!==v?null===(t=v)||"auto"===t?y.FetchStrategy.PPR:y.FetchStrategy.Full:y.FetchStrategy.PPR,{href:D,as:L}=o.default.useMemo(()=>{let e=f(k);return{href:e,as:j?f(j):e}},[k,j]);if($){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});i=o.default.Children.only(a)}let B=$?i&&"object"==typeof i&&i.ref:O,U=o.default.useCallback(e=>(null!==A&&(b.current=(0,u.mountLinkInstance)(e,D,A,M,R,h)),()=>{b.current&&((0,u.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,u.unmountPrefetchableInstance)(e)}),[R,D,A,M,h]),K={ref:(0,c.useMergedRef)(U,B),onClick(r){$||"function"!=typeof T||T(r),$&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(r),!A||r.defaultPrevented||function(r,t,a,i,s,n,l){if("undefined"!=typeof window){let d,{nodeName:c}=r.currentTarget;if("A"===c.toUpperCase()&&((d=r.currentTarget.getAttribute("target"))&&"_self"!==d||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey||r.nativeEvent&&2===r.nativeEvent.which)||r.currentTarget.hasAttribute("download"))return;if(!(0,x.isLocalURL)(t)){s&&(r.preventDefault(),location.replace(t));return}if(r.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:m}=e.r(21229);o.default.startTransition(()=>{m(a||t,s?"replace":"push",n??!0,i.current)})}}(r,D,L,b,S,E,z)},onMouseEnter(e){$||"function"!=typeof C||C(e),$&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),A&&R&&(0,u.onNavigationIntent)(e.currentTarget,!0===F)},onTouchStart:function(e){$||"function"!=typeof P||P(e),$&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),A&&R&&(0,u.onNavigationIntent)(e.currentTarget,!0===F)}};return(0,m.isAbsoluteUrl)(L)?K.href=L:$&&!N&&("a"!==i.type||"href"in i.props)||(K.href=(0,g.addBasePath)(L)),s=$?o.default.cloneElement(i,K):(0,n.jsx)("a",{...I,...K,children:a}),(0,n.jsx)(p.Provider,{value:l,children:s})}e.r(88464);let p=(0,o.createContext)(u.IDLE_LINK_STATUS),b=()=>(0,o.useContext)(p);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),r.exports=t.default)},79738,64807,e=>{"use strict";let r;e.i(96241);var t,a=e.i(61759);let i=(r="https://fishek.coolify.fennaver.tech".replace(/\/$/,""),"capacitor:"===window.location.protocol?r?`${r}/api`:(console.warn("[apiClient] NEXT_PUBLIC_API_URL missing; falling back to production backend URL"),"https://fishek.coolify.fennaver.tech/api"):"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes("192.168.")?"/api":r?`${r}/api`:"/api"),s=async(e={})=>{let r={"Content-Type":"application/json",...e};if("capacitor:"===window.location.protocol){let e=await a.mobileAuth.getAuthHeader();return{...r,...e}}return r};e.s(["categoriesApi",0,{getAll:async()=>{let e=await s(),r=await fetch(`${i}/categories`,{headers:e,credentials:"capacitor:"===window.location.protocol?"omit":"include"});if(!r.ok)throw Error("Failed to fetch categories");return r.json()},create:async e=>{let r=await s(),t=await fetch(`${i}/categories`,{method:"POST",headers:r,credentials:"capacitor:"===window.location.protocol?"omit":"include",body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create category");return t.json()},update:async e=>{let r=await s();if(!(await fetch(`${i}/categories/${e.id}`,{method:"PUT",headers:r,credentials:"capacitor:"===window.location.protocol?"omit":"include",body:JSON.stringify(e)})).ok)throw Error("Failed to update category")},delete:async e=>{let r=await s();if(!(await fetch(`${i}/categories/${e}`,{method:"DELETE",headers:r,credentials:"capacitor:"===window.location.protocol?"omit":"include"})).ok)throw Error("Failed to delete category")}},"statsApi",0,{getDashboard:async()=>{let e=await s(),r=await fetch(`${i}/stats`,{headers:e,credentials:"capacitor:"===window.location.protocol?"omit":"include"});if(!r.ok)throw Error("Failed to fetch stats");return r.json()}},"transactionsApi",0,{getAll:async()=>{let e=await s(),r=await fetch(`${i}/transactions`,{headers:e,credentials:"capacitor:"===window.location.protocol?"omit":"include"});if(!r.ok)throw Error("Failed to fetch transactions");return r.json()},getById:async e=>{let r=await s(),t=await fetch(`${i}/transactions/${e}`,{headers:r,credentials:"capacitor:"===window.location.protocol?"omit":"include"});if(404===t.status)return null;if(!t.ok)throw Error("Failed to fetch transaction");return t.json()},create:async e=>{let r=await s();if(!(await fetch(`${i}/transactions`,{method:"POST",headers:r,credentials:"capacitor:"===window.location.protocol?"omit":"include",body:JSON.stringify(e)})).ok)throw Error("Failed to create transaction")},delete:async e=>{let r=await s();if(!(await fetch(`${i}/transactions/${e}`,{method:"DELETE",headers:r,credentials:"capacitor:"===window.location.protocol?"omit":"include"})).ok)throw Error("Failed to delete transaction")}}],79738);var n=((t={}).INCOME="INCOME",t.EXPENSE="EXPENSE",t);e.s(["TransactionType",()=>n],64807)},99788,e=>{"use strict";var r=e.i(78042),t=e.i(45227),a=e.i(27112);e.s(["default",0,()=>{let e=(0,t.usePathname)();return"/login"===e||"/register"===e||"/add-transaction"===e||e?.startsWith("/transaction/")?null:(0,r.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-[#1c2e22]/80 backdrop-blur-xl border-t border-gray-200/50 dark:border-gray-800/50 pb-safe pt-2 px-6 flex justify-between items-center z-50 h-[80px] shadow-[0_-4px_16px_rgba(0,0,0,0.08)] dark:shadow-[0_-4px_16px_rgba(0,0,0,0.3)]",children:[(0,r.jsxs)(a.default,{href:"/",className:`flex flex-col items-center gap-1 transition-all active:scale-95 ${"/"===e?"text-primary":"text-gray-400"}`,children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-[28px]",style:{fontVariationSettings:`'FILL' ${+("/"===e)}`},children:"home"}),(0,r.jsx)("span",{className:"text-xs font-semibold",children:"Ana Sayfa"})]}),(0,r.jsx)(a.default,{href:"/add-transaction",className:"flex flex-col items-center justify-center -mt-10",children:(0,r.jsx)("div",{className:"h-16 w-16 bg-gradient-to-br from-primary to-primary/90 rounded-full shadow-xl shadow-primary/30 flex items-center justify-center text-[#102216] transform transition-all active:scale-95 hover:shadow-2xl hover:shadow-primary/40",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-[32px] font-light",children:"add"})})}),(0,r.jsxs)(a.default,{href:"/categories",className:`flex flex-col items-center gap-1 transition-all active:scale-95 ${"/categories"===e?"text-primary":"text-gray-400"}`,children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-[28px]",style:{fontVariationSettings:`'FILL' ${+("/categories"===e)}`},children:"pie_chart"}),(0,r.jsx)("span",{className:"text-xs font-semibold",children:"Bütçe"})]})]})}])},75459,12426,e=>{"use strict";var r=e.i(78042),t=e.i(45456),a=e.i(91588);function i(){let{mode:e,activeFamily:i,families:s,setMode:n,setActiveFamily:o}=(0,a.useFamily)(),[l,d]=(0,t.useState)(!1),c=(e,r)=>{if("personal"===e)n("personal"),o(null);else if(r){let e=s.find(e=>e.id===r);e&&o(e)}d(!1)},m="personal"===e?"Kişisel":i?.name||"Aile";return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>d(!l),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-xl",children:"personal"===e?"person":"groups"}),(0,r.jsx)("span",{className:"font-medium text-sm",children:m}),(0,r.jsx)("span",{className:"material-symbols-outlined text-sm",children:l?"expand_less":"expand_more"})]}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),(0,r.jsxs)("div",{className:"absolute top-full mt-2 right-0 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 overflow-hidden",children:[(0,r.jsxs)("button",{onClick:()=>c("personal"),className:`w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${"personal"===e?"bg-green-50 dark:bg-green-900/20":""}`,children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl text-gray-600 dark:text-gray-400",children:"person"}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[(0,r.jsx)("div",{className:"font-medium text-sm",children:"Kişisel"}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Sadece sizin işlemleriniz"})]}),"personal"===e&&(0,r.jsx)("span",{className:"material-symbols-outlined text-green-600 text-xl",children:"check_circle"})]}),s.length>0&&(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700"}),s.map(t=>(0,r.jsxs)("button",{onClick:()=>c("family",t.id),className:`w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${"family"===e&&i?.id===t.id?"bg-green-50 dark:bg-green-900/20":""}`,children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl text-gray-600 dark:text-gray-400",children:"groups"}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[(0,r.jsx)("div",{className:"font-medium text-sm",children:t.name}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"ADMIN"===t.role?"Yönetici":"Üye"})]}),"family"===e&&i?.id===t.id&&(0,r.jsx)("span",{className:"material-symbols-outlined text-green-600 text-xl",children:"check_circle"})]},t.id)),(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("a",{href:"/family-settings",className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-green-600 dark:text-green-400",onClick:()=>d(!1),children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl",children:"settings"}),(0,r.jsx)("span",{className:"font-medium text-sm",children:"Aile Ayarları"})]})})]})]})]})}e.s(["FamilyModeToggle",()=>i],75459);let s="fishek_onboarding_completed",n="fishek_family_onboarding_completed";e.s(["onboardingStorage",0,{isCompleted:()=>"true"===localStorage.getItem(s),setCompleted:()=>{localStorage.setItem(s,"true")},reset:()=>{localStorage.removeItem(s)},isFamilyCompleted:()=>"true"===localStorage.getItem(n),setFamilyCompleted:()=>{localStorage.setItem(n,"true")},resetFamily:()=>{localStorage.removeItem(n)},resetAll:()=>{localStorage.removeItem(s),localStorage.removeItem(n)}}],12426)},31713,e=>{"use strict";var r=e.i(78042),t=e.i(45456),a=e.i(94461),i=e.i(45227),s=e.i(79738),n=e.i(64807);let o=({transaction:e,category:t})=>{let a=(0,i.useRouter)(),s=e.type===n.TransactionType.INCOME,o="savings"===t.icon?"account_balance_wallet":t.icon,l=new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(e.amount);return(0,r.jsxs)("div",{onClick:()=>{try{sessionStorage.setItem(`tx:${e.id}`,JSON.stringify({transaction:{...e,amount:Number(e.amount)},category:{...t,icon:o}}))}catch(e){console.warn("Failed to cache transaction",e)}a.push(`/transaction/${e.id}`)},className:"flex items-center gap-4 rounded-2xl p-4 bg-white dark:bg-surface-dark shadow-sm border border-gray-100 dark:border-gray-800 hover:shadow-md hover:border-gray-200 dark:hover:border-gray-700 cursor-pointer transition-all active:scale-[0.98]",children:[(0,r.jsx)("div",{className:`flex h-14 w-14 shrink-0 items-center justify-center rounded-2xl shadow-sm ${s?"bg-gradient-to-br from-primary to-primary/80 text-white":"bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 text-gray-700 dark:text-gray-200"}`,children:(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl",children:o})}),(0,r.jsxs)("div",{className:"flex flex-col flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-bold text-gray-900 dark:text-white truncate text-base",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.date).toLocaleDateString("tr-TR",{day:"numeric",month:"long"})}),(0,r.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"•"}),(0,r.jsx)("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400",children:t.name})]})]}),(0,r.jsxs)("p",{className:`text-lg font-bold whitespace-nowrap ${s?"text-primary":"text-gray-900 dark:text-white"}`,children:[s?"+":"-",l]})]})};var l=e.i(99788),d=e.i(91588),c=e.i(75459);let m=[{name:"Market",icon:"shopping_cart"},{name:"Yeme & İçme",icon:"restaurant"},{name:"Ulaşım",icon:"directions_bus"},{name:"Fatura",icon:"receipt_long"},{name:"Giyim",icon:"checkroom"},{name:"Sağlık",icon:"local_hospital"},{name:"Eğlence",icon:"movie"},{name:"Teknoloji",icon:"devices"}],g=[{name:"Maaş",icon:"work"},{name:"Freelance",icon:"payments"},{name:"Yatırım",icon:"trending_up"},{name:"Ek Gelir",icon:"attach_money"}],u=[{title:"Hoş Geldiniz!",description:"Fishek ile gelir ve giderlerinizi kolayca takip edin, bütçenizi yönetin.",icon:"account_balance_wallet",color:"from-green-400 to-primary",type:"intro"},{title:"Gider Kategorileri",description:"Harcamalarınızı takip etmek için kategoriler seçin",icon:"receipt_long",color:"from-red-400 to-red-600",type:"expense-categories"},{title:"Gelir Kategorileri",description:"Gelirlerinizi organize etmek için kategoriler seçin",icon:"paid",color:"from-green-400 to-primary",type:"income-categories"},{title:"Akıllı Fiş Okuma",description:"Fişlerinizi fotoğraflayın, AI otomatik olarak tutarı ve kategoriyi belirlesin.",icon:"photo_camera",color:"from-blue-400 to-blue-600",type:"info"},{title:"Aile Modu",description:"Ailenizle birlikte bütçenizi yönetin, ortak harcamaları takip edin.",icon:"family_restroom",color:"from-pink-400 to-red-500",type:"info"}];function x({onComplete:e}){let[a,i]=(0,t.useState)(0),[s,o]=(0,t.useState)(new Set),[l,d]=(0,t.useState)(new Set),[c,x]=(0,t.useState)(!1),y=u[a],f=(e,r)=>{if("expense"===r){let r=new Set(s);r.has(e)?r.delete(e):r.add(e),o(r)}else{let r=new Set(l);r.has(e)?r.delete(e):r.add(e),d(r)}},h=async()=>{if(0!==s.size||0!==l.size){x(!0);try{let e=await fetch("/api/categories"),r=(await e.json()).categories||[],t=new Set(r.map(e=>e.name.toLowerCase()));for(let e of[...Array.from(s).map(e=>{let r=m.find(r=>r.name===e);return{name:e,icon:r?.icon||"category",type:n.TransactionType.EXPENSE}}),...Array.from(l).map(e=>{let r=g.find(r=>r.name===e);return{name:e,icon:r?.icon||"category",type:n.TransactionType.INCOME}})].filter(e=>!t.has(e.name.toLowerCase())))await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){console.error("Error creating categories:",e)}finally{x(!1)}}},p=async()=>{a===u.length-1?(await h(),e()):i(a+1)},b=async()=>{await h(),e()},k=()=>"expense-categories"===y.type?s.size>0:"income-categories"!==y.type||l.size>0;return(0,r.jsx)("div",{className:"fixed inset-0 z-[100] bg-gradient-to-b from-primary/5 via-background-light to-background-light dark:from-primary/5 dark:via-background-dark dark:to-background-dark overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex flex-col min-h-full max-w-md mx-auto",children:[(0,r.jsx)("div",{className:"flex justify-end p-5 sticky top-0 bg-gradient-to-b from-background-light/95 to-transparent dark:from-background-dark/95 backdrop-blur-xl z-10",children:(0,r.jsx)("button",{onClick:b,disabled:c,className:"px-4 py-2 rounded-full text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 font-semibold disabled:opacity-50 transition-all active:scale-95",children:"Geç"})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center px-6 pb-8 pt-4",children:[(0,r.jsx)("div",{className:`size-32 rounded-3xl bg-gradient-to-br ${y.color} flex items-center justify-center mb-8 animate-scaleIn shadow-2xl`,children:(0,r.jsx)("span",{className:"material-symbols-outlined text-7xl text-white drop-shadow-lg",children:y.icon})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-center mb-4 animate-fadeIn bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:y.title}),(0,r.jsx)("p",{className:"text-base text-gray-600 dark:text-gray-400 text-center max-w-sm mb-8 animate-fadeIn leading-relaxed",children:y.description}),"expense-categories"===y.type&&(0,r.jsxs)("div",{className:"w-full animate-fadeIn",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4 px-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-red-500/10 flex items-center justify-center",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-red-500 text-lg",children:"check_circle"})}),(0,r.jsxs)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[s.size," kategori seçildi"]})]}),s.size>0&&(0,r.jsx)("button",{onClick:()=>o(new Set),className:"text-xs font-semibold text-red-500 hover:text-red-600 dark:hover:text-red-400 transition-colors",children:"Temizle"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:m.map(e=>{let t=s.has(e.name);return(0,r.jsxs)("button",{onClick:()=>f(e.name,"expense"),className:`flex flex-col items-center gap-3 p-4 border-2 rounded-2xl transition-all ${t?"border-red-500 bg-red-500/10 shadow-lg shadow-red-500/20 scale-105":"border-gray-200 dark:border-gray-700 bg-white dark:bg-surface-dark hover:border-red-500/50 hover:bg-red-50 dark:hover:bg-red-900/10"} active:scale-95`,children:[(0,r.jsx)("div",{className:`size-12 rounded-2xl flex items-center justify-center shadow-sm ${t?"bg-gradient-to-br from-red-500 to-red-600 text-white":"bg-red-500/10 text-red-500"}`,children:(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl",children:e.icon})}),(0,r.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-white text-center",children:e.name}),t&&(0,r.jsx)("span",{className:"material-symbols-outlined text-red-500 text-xl absolute top-2 right-2",children:"check_circle"})]},e.name)})})]}),"income-categories"===y.type&&(0,r.jsxs)("div",{className:"w-full animate-fadeIn",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4 px-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-primary text-lg",children:"check_circle"})}),(0,r.jsxs)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[l.size," kategori seçildi"]})]}),l.size>0&&(0,r.jsx)("button",{onClick:()=>d(new Set),className:"text-xs font-semibold text-primary hover:text-primary/80 transition-colors",children:"Temizle"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:g.map(e=>{let t=l.has(e.name);return(0,r.jsxs)("button",{onClick:()=>f(e.name,"income"),className:`flex flex-col items-center gap-3 p-4 border-2 rounded-2xl transition-all ${t?"border-primary bg-primary/10 shadow-lg shadow-primary/20 scale-105":"border-gray-200 dark:border-gray-700 bg-white dark:bg-surface-dark hover:border-primary/50 hover:bg-primary/5"} active:scale-95`,children:[(0,r.jsx)("div",{className:`size-12 rounded-2xl flex items-center justify-center shadow-sm ${t?"bg-gradient-to-br from-primary to-primary/80 text-white":"bg-primary/10 text-primary"}`,children:(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl",children:e.icon})}),(0,r.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-white text-center",children:e.name}),t&&(0,r.jsx)("span",{className:"material-symbols-outlined text-primary text-xl absolute top-2 right-2",children:"check_circle"})]},e.name)})})]})]}),(0,r.jsxs)("div",{className:"p-6 pb-8 space-y-4 sticky bottom-0 bg-white/90 dark:bg-surface-dark/90 backdrop-blur-xl border-t border-gray-200 dark:border-gray-800",children:[(0,r.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:u.map((e,t)=>(0,r.jsx)("div",{className:`h-2 rounded-full transition-all duration-500 ${t===a?"w-10 bg-gradient-to-r from-primary to-primary/80 shadow-lg shadow-primary/30":t<a?"w-2 bg-primary/60":"w-2 bg-gray-300 dark:bg-gray-700"}`},t))}),(0,r.jsx)("button",{onClick:p,disabled:!k()||c,className:"w-full h-14 bg-gradient-to-r from-primary to-primary/90 text-white rounded-2xl font-bold text-lg shadow-xl shadow-primary/30 hover:shadow-2xl hover:shadow-primary/40 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"animate-spin h-5 w-5 border-2 border-white/30 border-t-white rounded-full"}),(0,r.jsx)("span",{children:"Ayarlanıyor..."})]}):a===u.length-1?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Başlayalım"}),(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl",children:"arrow_forward"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Devam"}),(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl",children:"arrow_forward"})]})}),!k()&&("expense-categories"===y.type||"income-categories"===y.type)&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl px-4 py-2 animate-shake",children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-sm",children:"info"}),(0,r.jsx)("p",{className:"text-xs font-semibold",children:"Devam etmek için en az 1 kategori seçin"})]})]})]})})}var y=e.i(12426),f=e.i(39942);function h(){let e=(0,i.useRouter)(),{user:n,loading:m,isAuthenticated:g,isMobile:u,logout:h}=(0,f.useMobileAuth)(),p=m?"loading":g?"authenticated":"unauthenticated",{mode:b,activeFamily:k}=(0,d.useFamily)(),[j,w]=(0,t.useState)([]),[v,N]=(0,t.useState)([]),[S,_]=(0,t.useState)({income:0,expense:0,balance:0,monthlyBudget:0,monthlySpent:0}),[E,T]=(0,t.useState)(!0),[C,P]=(0,t.useState)("month"),[$,z]=(0,t.useState)(!1),[O,F]=(0,t.useState)("TR"),[I,A]=(0,t.useState)("TRY"),[R,M]=(0,t.useState)(!1);(0,t.useEffect)(()=>{m||g||e.push("/login")},[m,g,e]),(0,t.useEffect)(()=>{"authenticated"!==p||y.onboardingStorage.isCompleted()||M(!0)},[p]),(0,t.useEffect)(()=>{"authenticated"!==p||(async()=>{try{if(T(!0),"family"===b&&k){let[e,r]=await Promise.all([fetch(`/api/family-transactions?familyId=${k.id}`),fetch(`/api/family-categories?familyId=${k.id}`)]),t=await e.json(),a=await r.json();w(t.transactions||[]),N(a.categories||[]);let i=t.transactions?.filter(e=>"INCOME"===e.type).reduce((e,r)=>e+parseFloat(r.amount),0)||0,s=t.transactions?.filter(e=>"EXPENSE"===e.type).reduce((e,r)=>e+parseFloat(r.amount),0)||0;_({income:i,expense:s,balance:i-s,monthlyBudget:0,monthlySpent:s})}else{let[e,r,t]=await Promise.all([s.transactionsApi.getAll(),s.categoriesApi.getAll(),s.statsApi.getDashboard()]);w(e),N(r),_({income:t.totalIncome,expense:t.totalExpense,balance:t.balance,monthlyBudget:t.monthlyBudget,monthlySpent:t.monthlySpent})}}catch(e){console.error("Error loading dashboard data:",e)}finally{T(!1)}})()},[p,b,k]);let D=e=>new Intl.NumberFormat("TR"===O?"tr-TR":"en-US",{style:"currency",currency:"TRY"===I?"TRY":"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),L=S.monthlyBudget>0?S.monthlySpent/S.monthlyBudget*100:0,B=S.monthlyBudget-S.monthlySpent,U=t.default.useMemo(()=>{let e=new Date;return j.filter(r=>{let t,a,i,s,n;if("all"===C)return!0;let o=new Date(`${r.date}T00:00:00`);if("month"===C)return o.getFullYear()===e.getFullYear()&&o.getMonth()===e.getMonth();return t=new Date(e),a=new Date(o),t.setHours(0,0,0,0),a.setHours(0,0,0,0),i=t.getDay()||7,(s=new Date(t)).setDate(t.getDate()-(i-1)),(n=new Date(s)).setDate(s.getDate()+6),a>=s&&a<=n})},[j,C]);return"loading"===p||E?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-primary/5 via-background-light to-background-light dark:from-primary/5 dark:via-background-dark dark:to-background-dark pb-nav-safe",children:[(0,r.jsxs)("div",{className:"flex items-center p-4 gap-3 bg-white/60 dark:bg-surface-dark/60 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 animate-pulse"}),(0,r.jsx)("div",{className:"flex-1 h-6 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded-xl animate-pulse",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}}),(0,r.jsx)("div",{className:"w-20 h-10 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded-xl animate-pulse",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}}),(0,r.jsx)("div",{className:"w-11 h-11 rounded-2xl bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}})]}),(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[1,2].map(e=>(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-surface-dark/80 backdrop-blur-xl rounded-2xl p-4 border border-gray-200 dark:border-gray-800 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}}),(0,r.jsx)("div",{className:"flex-1 h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}})]}),(0,r.jsx)("div",{className:"h-8 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded-lg w-3/4",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}})]},e))}),(0,r.jsx)("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 backdrop-blur-xl rounded-3xl p-6 border border-primary/20 shadow-xl relative overflow-hidden",children:(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsx)("div",{className:"h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded w-32 mb-3",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}}),(0,r.jsx)("div",{className:"h-12 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded-xl w-48 mb-2",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}})]})}),(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-surface-dark/80 backdrop-blur-xl rounded-2xl p-5 border border-gray-200 dark:border-gray-800 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}}),(0,r.jsx)("div",{className:"h-5 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded w-24",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}})]}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded-full mb-2"}),(0,r.jsx)("div",{className:"h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded w-32",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}})]}),(0,r.jsx)("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[1,2,3].map(e=>(0,r.jsx)("div",{className:"h-10 w-24 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded-2xl shrink-0",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}},e))}),(0,r.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,r.jsx)("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 border border-gray-200 dark:border-gray-800 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsx)("div",{className:"h-5 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded w-3/4",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}}),(0,r.jsx)("div",{className:"h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded w-1/2",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}})]}),(0,r.jsx)("div",{className:"h-6 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 rounded w-20",style:{backgroundSize:"1000px 100%",animation:"shimmer 2s infinite linear"}})]})},e))})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"pb-nav-safe pt-safe bg-gradient-to-b from-primary/5 via-background-light to-background-light dark:from-primary/5 dark:via-background-dark dark:to-background-dark min-h-screen",children:[(0,r.jsxs)("div",{className:"flex items-center p-4 gap-3 bg-white/60 dark:bg-surface-dark/60 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50 sticky top-0 z-50",children:[(0,r.jsx)("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-2xl bg-gradient-to-br from-primary to-primary/80 shadow-lg shadow-primary/25",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-3xl text-white",children:"receipt_long"})}),(0,r.jsx)("h2",{className:"text-lg font-bold flex-1 ml-1 bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Fishek"}),(0,r.jsx)(c.FamilyModeToggle,{}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>z(e=>!e),className:"flex items-center justify-center overflow-hidden rounded-2xl h-11 w-11 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 border border-gray-300/60 dark:border-gray-600 shadow-sm active:scale-95 transition-transform",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl text-gray-600 dark:text-gray-300",children:"account_circle"})}),$&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{"aria-label":"Kapat",className:"fixed inset-0 z-[60] bg-black/30 backdrop-blur-sm",onClick:()=>z(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-72 rounded-3xl bg-white/95 dark:bg-surface-dark/95 backdrop-blur-xl shadow-2xl border border-gray-200 dark:border-gray-700 p-5 z-[70] animate-scaleIn",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-bold",children:"Profil"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Hızlı ayarlar"})]}),(0,r.jsx)("button",{onClick:()=>z(!1),className:"h-9 w-9 rounded-full hover:bg-black/5 dark:hover:bg-white/10 flex items-center justify-center transition-colors active:scale-95",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-gray-500",children:"close"})})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2",children:"Dil"}),(0,r.jsx)("div",{className:"flex gap-2",children:["TR","EN"].map(e=>(0,r.jsx)("button",{onClick:()=>F(e),className:`flex-1 h-11 rounded-xl text-sm font-semibold border-2 transition-all ${O===e?"border-primary bg-primary/10 text-primary shadow-sm":"border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2",children:"Para Birimi"}),(0,r.jsx)("div",{className:"flex gap-2",children:["TRY","USD"].map(e=>(0,r.jsx)("button",{onClick:()=>A(e),className:`flex-1 h-11 rounded-xl text-xs font-semibold border-2 transition-all ${I===e?"border-primary bg-primary/10 text-primary shadow-sm":"border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:"TRY"===e?"₺ Türk Lirası":"$ Dolar"},e))})]}),(0,r.jsxs)("button",{onClick:async()=>{u?(await h(),window.location.href="/login"):(0,a.signOut)({callbackUrl:"/login"})},className:"w-full h-12 rounded-xl bg-gradient-to-r from-gray-900 to-gray-800 text-white dark:from-white dark:to-gray-100 dark:text-gray-900 font-semibold flex items-center gap-2 justify-center hover:opacity-90 transition shadow-lg active:scale-95",children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-lg",children:"logout"}),"Çıkış Yap"]})]})]})]})]}),(0,r.jsxs)("div",{className:"px-4 pt-6 pb-5",children:[(0,r.jsxs)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-400 bg-clip-text text-transparent",children:["Merhaba",n?.name?`, ${n.name}`:"","!"]}),"family"===b&&k&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 flex items-center gap-1.5 font-medium",children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-lg",children:"groups"}),k.name," - Aile Modu"]})]}),(0,r.jsxs)("div",{className:"flex gap-3 px-4 overflow-x-auto no-scrollbar pb-2",children:[(0,r.jsxs)("div",{className:"min-w-[170px] flex-1 flex flex-col gap-2 rounded-2xl bg-white/80 dark:bg-surface-dark/80 backdrop-blur-xl p-5 shadow-lg border border-gray-200 dark:border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-primary text-lg",children:"trending_up"})}),(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Toplam Gelir"})]}),(0,r.jsx)("p",{className:"text-2xl font-bold text-primary",children:D(S.income)})]}),(0,r.jsxs)("div",{className:"min-w-[170px] flex-1 flex flex-col gap-2 rounded-2xl bg-white/80 dark:bg-surface-dark/80 backdrop-blur-xl p-5 shadow-lg border border-gray-200 dark:border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-red-500/10 flex items-center justify-center",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-red-500 text-lg",children:"trending_down"})}),(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:"Toplam Gider"})]}),(0,r.jsx)("p",{className:"text-2xl font-bold text-red-500",children:D(S.expense)})]})]}),(0,r.jsx)("div",{className:"px-4 mt-4",children:(0,r.jsxs)("div",{className:"w-full rounded-3xl bg-gradient-to-br from-primary via-primary to-primary/90 p-6 text-white shadow-xl shadow-primary/30 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -mr-16 -mt-16 backdrop-blur-3xl"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/5 rounded-full -ml-12 -mb-12 backdrop-blur-3xl"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 relative z-10",children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-2xl opacity-90",children:"account_balance_wallet"}),(0,r.jsx)("p",{className:"text-sm font-semibold opacity-90",children:"Mevcut Bakiye"})]}),(0,r.jsx)("p",{className:"text-5xl font-bold tracking-tight relative z-10",children:D(S.balance)})]})}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 px-4 py-5 mt-3 mx-4 rounded-2xl bg-white/60 dark:bg-surface-dark/60 backdrop-blur-xl border border-gray-200 dark:border-gray-800 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex gap-6 justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-9 h-9 rounded-xl bg-primary/10 flex items-center justify-center",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-primary text-lg",children:"account_balance_wallet"})}),(0,r.jsx)("p",{className:"text-base font-bold",children:"Aylık Bütçe"})]}),(0,r.jsxs)("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:[D(S.monthlySpent)," / ",D(S.monthlyBudget)]})]}),(0,r.jsx)("div",{className:"w-full rounded-full bg-gray-200 dark:bg-gray-800 h-3 shadow-inner",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-primary to-primary/80 h-3 rounded-full transition-all duration-500 shadow-sm",style:{width:`${Math.min(L,100)}%`}})}),(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 text-right",children:["Kalan: ",(0,r.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:D(Math.max(B,0))})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 px-4 overflow-x-auto no-scrollbar mb-5 mt-6",children:[(0,r.jsx)("button",{onClick:()=>P("month"),className:`flex h-10 shrink-0 items-center justify-center rounded-full px-6 text-sm font-bold transition-all ${"month"===C?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/30":"bg-white dark:bg-surface-dark text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:"Bu Ay"}),(0,r.jsx)("button",{onClick:()=>P("week"),className:`flex h-10 shrink-0 items-center justify-center rounded-full px-6 text-sm font-bold transition-all ${"week"===C?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/30":"bg-white dark:bg-surface-dark text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:"Bu Hafta"}),(0,r.jsx)("button",{onClick:()=>P("all"),className:`flex h-10 shrink-0 items-center justify-center rounded-full px-6 text-sm font-bold transition-all ${"all"===C?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/30":"bg-white dark:bg-surface-dark text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:"Tümü"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 px-4 pb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-xl font-bold",children:"Son Hareketler"}),(0,r.jsx)("button",{className:"text-sm font-semibold text-primary hover:text-primary/80 transition-colors",children:"Tümünü Gör"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[U.map(e=>{let t=v.find(r=>r.id===e.categoryId)||v[0];return(0,r.jsx)(o,{transaction:e,category:t},e.id)}),0===U.length&&(0,r.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"receipt_long"})}),(0,r.jsx)("p",{className:"text-base font-semibold text-gray-900 dark:text-white mb-1",children:"İşlem bulunamadı"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bu filtrede gösterilecek işlem yok."})]})]})]})]}),R&&(0,r.jsx)(x,{onComplete:()=>{y.onboardingStorage.setCompleted(),M(!1)}}),(0,r.jsx)(l.default,{})]})}e.s(["default",()=>h],31713)}]);